# Futex

В этой задаче вам предстоит реализовать мьютекс с помощью фьютекса - системного вызова в Linux, с помощью которого можно реализовать
базовые примитивы синхронизации вроде мьютекса или условной переменной (собственно, это основной строительный блок в реализации этих примитивов в POSIX Threads).

Обратите внимание, что решение этой задачи специфично для Linux и для компилятора gcc/clang. То есть, на MacOS задачу собрать и запустить не получится. Приходите на учебный сервер.

Реализация мьютекса по умолчанию приведена в mutex.h (там используется `std::mutex`). Вам необходимо переписать ее с использованием атомарных инструкций и фьютекса.

Всю необходимую информацию по реализации вы можете найти в полезных ссылках.

### Вопросы
* Изучите реализацию `std::mutex` и `std::atomic` в gcc под linux.

### Полезные ссылки
* http://man7.org/linux/man-pages/man7/futex.7.html --- описание фьютекса.
* [Futexes Are Tricky](http://dept-info.labri.u-bordeaux.fr/~denis/Enseignement/2008-IR/Articles/01-futex.pdf) - про фьютексы и реализацию мьютекса.

### Ограничения
Класс `std::mutex` запрещен в этой задаче. Это проверяется автоматически.

Время на бенчмарке с одним тредом не должно превышать 30ns.
