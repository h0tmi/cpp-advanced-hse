# Read-write spinlock

В этой задаче вам предстоит реализовать spinlock, который поддерживает конкурентные чтения. При этом блокировка на запись должна работать как и с обычным spinlock, т.е. должно быть эксклюзивное владение.

Интерфейс приведен в файле `rw_spinlock.h`.

Идея алгоритма:

1. Создается атомарная переменная.
2. Внутри атомарной переменной первый младший бит выделяется для флага записи.
3. Остальные биты, начиная со второго, - это счетчик читателей.
4. Для `lockRead` должен соблюдаться инвариант: младший бит не должен быть равен 1.
5. Для `lockWrite` должен соблюдаться инвариант: младший бит не должен быть равен 1 + счетчик читателей должен быть равен 0.

### Ограничения
Классы `std::shared_mutex` и `std::mutex` запрещены в этой задаче. Это проверяется автоматически.
